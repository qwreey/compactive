let t=window,e=t.REFS={},n="assignedElements",r="startsWith",s="querySelector",o=s+"All",l="shadowRoot",a="observedAttributes",i="slice",c="%",u=c+1,d=c+2,h=null,f="data-",m=t.IsInstance=(t,e)=>Object.getPrototypeOf(t)?.constructor==e,b=t.ClassFilter=t=>e=>m(e,t),p=t.CreateRefId=()=>{let t="r:"+Math.random().toString(36)[i](2);return t in e?p():t},g=t=>""==t?"default":t,E,w,v=t=>t===h?h:"true"==t||"false"!=t&&(E=t.match(/^(.):/)?.[1],"r"==E?e[t]:(w=t[i](2),"s"==E?w:"e"==E?eval(w):"i"==E||"f"==E?+w:void 0)),A,C=t=>t===h?"":"string"==E?"s:"+t:"number"==E?(Number.isInteger(t)?"i:":"f:")+t:"boolean"==E?t+[]:(e[A=p()]=t,A);t.BaseElement=class extends HTMLElement{constructor(){super();let t,e,r=this;for(t of(r.attachShadow({mode:"open"}).append(r.constructor[u].cloneNode(!0)),r[c]={},r[d]={},r[l][o]("slot"))){e=g(t.name),r[c][e]=t;let s=r[`${e}Slot`];s&&(t.onslotchange=()=>s.call(r,t[n]()))}}attributeChangedCallback(t,n,s){let o=this;if(t[r](f)){t=t[i](5),n?.[r]("r:")&&delete e[n];let l=o[`${t}Attr`],a=v(s);l&&l.call(o,a,o[d][t]),o[d][t]=a}}slot(t){return this[c][n]()}emit(t,e){this.dispatchEvent(new CustomEvent(t,e))}static init(e){let n,r=this,o={attr(...t){for(n of t){let t=f+n;Object.defineProperty(r.prototype,n,{get:function(){return v(this.getAttribute(t))},set:function(e){this.setAttribute(t,C(e))}}),r[a].push(t)}return o},finalize(){t.customElements.define(e,r)}};return r[u]=document[s](`template#${e}`).content,r.create=()=>new r,r[a]=[],o}};
