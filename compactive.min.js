const t=window,e=t.REFS={},r="assignedElements",n="startsWith",o="querySelector",s=o+"All",l="shadowRoot",a="observedAttributes",i="getAttribute",u="slice",c="%s",d="%t",f="%a",m="%c",h="data-",p=null,b={mode:"open"},y=new Uint8Array(12),g=()=>(crypto.getRandomValues(y),"r:"+y.toHex()),A=t.parseAttr=t=>{if(t===p)return p;if("true"==t)return!0;if("false"==t)return!1;let r=t.match(/^(.):/)?.[1],n;return"r"==r?e[t]:(n=t[u](2),"s"==r?n:"e"==r?eval(n):"i"==r||"f"==r?+n:void 0)},w=t.toAttr=t=>{let r,n=typeof t;return t===p?"":"string"==n?"s:"+t:"number"==n?(Number.isInteger(t)?"i:":"f:")+t:"boolean"==n?t+[]:(e[r=g()]=t,r)},E=new DOMParser,v=t.html=t=>E.parseFromString(`<body>${t.join()}</body>`,"text/html");t.css=t=>v([`<style>${t.join()}</style>`]),t.Init=(e,r)=>{let n,s,l={attr(...t){for(s of t){let t=h+s;Object.defineProperty(e.prototype,s,{get(){return A(this[i](t))},set(e){this.setAttribute(t,w(e))}}),e[a].push(t)}return l},tag:t=>(n=t,l),content:t=>(e[d]=t[o]("body>*"),l),style:t=>(e[m]=t[o]("style"),l)};e[a]=[],r(l),e[d]??=document[o]("template#"+n).content,e[m]&&e[d].append(e[m]),t.customElements.define(n,e)},t.BaseElement=class extends HTMLElement{constructor(t){super();let e,n,o,a,u=this;for(a of(u.attachShadow(b).append(u.constructor[d].cloneNode(!0)),u[l][s]("[-ref]")))u[a[i]("-ref")]=a;for(e of(u[c]={},u[f]={},u[l][s]("slot"))){u[c][n=e.name||"default"]=e;let t=u[n+"Slot"];t&&(e.onslotchange=n=>t.call(u,e[r](),n))}if(t)for(o in t)u[o]=t[o]}attributeChangedCallback(t,r,o){let s,l,a=this;t[n](h)&&(t=t[u](5),r?.[n]("r:")&&delete e[r],l=A(o),s=a[t+"Attr"],s&&s.call(a,l,a[f][t]),a[f][t]=l)}slot(t){return this[c][t][r]()}emit(t,e){this.dispatchEvent(new CustomEvent(t,e))}};