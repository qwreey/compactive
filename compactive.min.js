const t=window,e=t.REFS={},r="assignedElements",n="startsWith",o="querySelector",s=o+"All",l="shadowRoot",i="observedAttributes",a="parseFromString",c="slice",u="%",f=u+1,d=u+2,h=u+3,m="data-",p="text/html",b=null,g=new DOMParser,y={mode:"open"},w=new Uint8Array(12),E=t.CreateRefId=()=>(crypto.getRandomValues(w),"r:"+w.toHex()),A=t=>{if(t===b)return b;if("true"==t)return!0;if("false"==t)return!1;let r=t.match(/^(.):/)?.[1],n;return"r"==r?e[t]:(n=t[c](2),"s"==r?n:"e"==r?eval(n):"i"==r||"f"==r?+n:void 0)},v=t=>{let r,n=typeof t;return t===b?"":"string"==n?"s:"+t:"number"==n?(Number.isInteger(t)?"i:":"f:")+t:"boolean"==n?t+[]:(e[r=E()]=t,r)},S=t.html=(t,...e)=>g[a](t.join(),p);t.css=t=>S(`<style>${t.join()}</style>`),t.IsInstance=(t,e)=>Object.getPrototypeOf(t)?.constructor==e,t.BaseElement=class extends HTMLElement{constructor(t){super();let e,n,o,i,a=this;for(i of(a.attachShadow(y).append(a.constructor[f].cloneNode(!0)),a[l][s]`[-ref]`))a[i["-ref"]]=i,delete i["-ref"];for(e of(a[u]={},a[d]={},a[l][s]`slot`)){a[u][n=e.name||"default"]=e;let t=a[n+"Slot"];t&&(e.onslotchange=n=>t.call(a,e[r](),n))}if(t)for(o in t)a[o]=t[o]}attributeChangedCallback(t,r,o){let s,l,i=this;t[n](m)&&(t=t[c](5),r?.[n]("r:")&&delete e[r],l=A(o),s=i[`${t}Attr`],s&&s.call(i,l,i[d][t]),i[d][t]=l)}slot(t){return this[u][t][r]()}emit(t,e){this.dispatchEvent(new CustomEvent(t,e))}static init(e){let r,n=this,s={attr(...t){for(r of t){let t=m+r;Object.defineProperty(n.prototype,r,{get:function(){return A(this.getAttribute(t))},set:function(e){this.setAttribute(t,v(e))}}),n[i].push(t)}return s},content:t=>(n[f]=t,s),style:t=>(n[h]=t,s),finalize(){t.customElements.define(e,n),n[f]??=document[o](`template#${e}`).content,n[h]&&n[f].append(n[h]),n.create=t=>new n(t)}};return n[i]=[],s}};